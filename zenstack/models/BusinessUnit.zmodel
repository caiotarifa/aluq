import '../types/BaseModel'

import './Organization'

model BusinessUnit with BaseModel {
  organization Organization @relation(fields: [organizationId], references: [id], onDelete: Cascade)
  organizationId String @default(auth().organizationId)

  isActive Boolean @default(true)

  // Identity.
  name String @length(1)
  legalName String?
  taxId String?

  // Policies.
  @@allow('all', auth().organizationId == organizationId)

  @@map('businessUnit')
  @@index([organizationId])
}